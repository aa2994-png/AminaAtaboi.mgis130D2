<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personal Weather Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒ¤ï¸ Weather Dashboard</h1>
            <p>Get real-time weather information</p>
        </div>

        <div class="search-box">
            <div class="search-input-group">
                <input type="text" id="cityInput" placeholder="Enter city name (e.g., London, New York)" />
                <button id="searchBtn">Search</button>
            </div>
            <div class="unit-toggle">
                <button class="unit-btn active" data-unit="metric">Â°C</button>
                <button class="unit-btn" data-unit="imperial">Â°F</button>
            </div>
        </div>

        <div class="loading" id="loading">Loading weather data...</div>
        <div class="error-message" id="errorMessage"></div>

        <div class="weather-card" id="weatherCard">
            <div class="location">
                <h2 id="cityName"></h2>
                <div class="weather-icon" id="weatherIcon"></div>
            </div>

            <div class="temperature">
                <div class="temp-value" id="temperature"></div>
                <div class="feels-like" id="feelsLike"></div>
            </div>

            <div class="description" id="description"></div>

            <div class="details">
                <div class="detail-item">
                    <div class="detail-icon">ğŸ’§</div>
                    <div class="detail-text">
                        <div class="detail-label">Humidity</div>
                        <div class="detail-value" id="humidity"></div>
                    </div>
                </div>

                <div class="detail-item">
                    <div class="detail-icon">ğŸ’¨</div>
                    <div class="detail-text">
                        <div class="detail-label">Wind Speed</div>
                        <div class="detail-value" id="windSpeed"></div>
                    </div>
                </div>

                <div class="detail-item">
                    <div class="detail-icon">ğŸŒ¡ï¸</div>
                    <div class="detail-text">
                        <div class="detail-label">Pressure</div>
                        <div class="detail-value" id="pressure"></div>
                    </div>
                </div>

                <div class="detail-item">
                    <div class="detail-icon">ğŸ‘ï¸</div>
                    <div class="detail-text">
                        <div class="detail-label">Visibility</div>
                        <div class="detail-value" id="visibility"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="api-note">
            <strong>Note:</strong> You need to add your OpenWeather API key in the JavaScript code.<br>
            Get a free API key at <a href="https://openweathermap.org/api" target="_blank">openweathermap.org</a>
        </div>
    </div>

    <script>
        // ==================== DATA LAYER ====================
        const API_KEY = 'YOUR_API_KEY_HERE'; // Replace with your OpenWeather API key
        const API_URL = 'https://api.openweathermap.org/data/2.5/weather';

        let currentUnit = 'metric';

        async function fetchWeatherData(city) {
            const url = `${API_URL}?q=${city}&appid=${API_KEY}&units=${currentUnit}`;
            
            try {
                const response = await fetch(url);
                
                if (!response.ok) {
                    if (response.status === 404) {
                        throw new Error('City not found. Please check the spelling and try again.');
                    } else if (response.status === 401) {
                        throw new Error('Invalid API key. Please check your API configuration.');
                    } else {
                        throw new Error('Failed to fetch weather data. Please try again.');
                    }
                }
                
                const data = await response.json();
                return data;
            } catch (error) {
                throw error;
            }
        }

        // ==================== PROCESSING LAYER ====================
        function getWeatherIcon(iconCode) {
            const iconMap = {
                '01d': 'â˜€ï¸', '01n': 'ğŸŒ™',
                '02d': 'â›…', '02n': 'â˜ï¸',
                '03d': 'â˜ï¸', '03n': 'â˜ï¸',
                '04d': 'â˜ï¸', '04n': 'â˜ï¸',
                '09d': 'ğŸŒ§ï¸', '09n': 'ğŸŒ§ï¸',
                '10d': 'ğŸŒ¦ï¸', '10n': 'ğŸŒ§ï¸',
                '11d': 'â›ˆï¸', '11n': 'â›ˆï¸',
                '13d': 'â„ï¸', '13n': 'â„ï¸',
                '50d': 'ğŸŒ«ï¸', '50n': 'ğŸŒ«ï¸'
            };
            return iconMap[iconCode] || 'ğŸŒ¤ï¸';
        }

        function formatTemperature(temp) {
            return Math.round(temp);
        }

        function formatWindSpeed(speed) {
            const unit = currentUnit === 'metric' ? 'm/s' : 'mph';
            return `${speed.toFixed(1)} ${unit}`;
        }

        function formatVisibility(visibility) {
            const km = visibility / 1000;
            return `${km.toFixed(1)} km`;
        }

        function processWeatherData(data) {
            return {
                city: `${data.name}, ${data.sys.country}`,
                temperature: formatTemperature(data.main.temp),
                feelsLike: formatTemperature(data.main.feels_like),
                description: data.weather[0].description,
                icon: getWeatherIcon(data.weather[0].icon),
                humidity: `${data.main.humidity}%`,
                windSpeed: formatWindSpeed(data.wind.speed),
                pressure: `${data.main.pressure} hPa`,
                visibility: formatVisibility(data.visibility)
            };
        }

        // ==================== UI LAYER ====================
        const elements = {
            cityInput: document.getElementById('cityInput'),
            searchBtn: document.getElementById('searchBtn'),
            loading: document.getElementById('loading'),
            errorMessage: document.getElementById('errorMessage'),
            weatherCard: document.getElementById('weatherCard'),
            cityName: document.getElementById('cityName'),
            temperature: document.getElementById('temperature'),
            feelsLike: document.getElementById('feelsLike'),
            description: document.getElementById('description'),
            weatherIcon: document.getElementById('weatherIcon'),
            humidity: document.getElementById('humidity'),
            windSpeed: document.getElementById('windSpeed'),
            pressure: document.getElementById('pressure'),
            visibility: document.getElementById('visibility'),
            unitBtns: document.querySelectorAll('.unit-btn')
        };

        function showLoading() {
            elements.loading.classList.add('show');
            elements.weatherCard.classList.remove('show');
            elements.errorMessage.classList.remove('show');
            elements.searchBtn.disabled = true;
        }

        function hideLoading() {
            elements.loading.classList.remove('show');
            elements.searchBtn.disabled = false;
        }

        function showError(message) {
            elements.errorMessage.textContent = message;
            elements.errorMessage.classList.add('show');
            elements.weatherCard.classList.remove('show');
        }

        function displayWeatherData(weather) {
            const tempUnit = currentUnit === 'metric' ? 'Â°C' : 'Â°F';
            
            elements.cityName.textContent = weather.city;
            elements.temperature.textContent = `${weather.temperature}${tempUnit}`;
            elements.feelsLike.textContent = `Feels like ${weather.feelsLike}${tempUnit}`;
            elements.description.textContent = weather.description;
            elements.weatherIcon.textContent = weather.icon;
            elements.humidity.textContent = weather.humidity;
            elements.windSpeed.textContent = weather.windSpeed;
            elements.pressure.textContent = weather.pressure;
            elements.visibility.textContent = weather.visibility;

            elements.weatherCard.classList.add('show');
            elements.errorMessage.classList.remove('show');
        }

        // ==================== EVENT HANDLERS ====================
        async function searchWeather() {
            const city = elements.cityInput.value.trim();
            
            if (!city) {
                showError('Please enter a city name');
                return;
            }

            if (API_KEY === 'YOUR_API_KEY_HERE') {
                showError('Please add your OpenWeather API key in the JavaScript code');
                return;
            }

            showLoading();

            try {
                const data = await fetchWeatherData(city);
                const weather = processWeatherData(data);
                displayWeatherData(weather);
            } catch (error) {
                showError(error.message);
            } finally {
                hideLoading();
            }
        }

        elements.searchBtn.addEventListener('click', searchWeather);

        elements.cityInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                searchWeather();
            }
        });

        elements.unitBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const unit = btn.dataset.unit;
                if (unit === currentUnit) return;

                currentUnit = unit;
                
                elements.unitBtns.forEach(b => b.classList.remove('active'));
                btn.classList.add('active');

                const city = elements.cityInput.value.trim();
                if (city && elements.weatherCard.classList.contains('show')) {
                    searchWeather();
                }
            });
        });

        //
